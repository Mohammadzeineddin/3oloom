<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
 
    <title>عروض الغذاء</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/3orood-ajar.css">
</head>
<body>
    <div class="search-container">
        <select id="citySelect" onchange="filterByCity()">
            <option value="">اختر المنطقة...</option>
            <option value="البقاع">البقاع</option>
            <option value="بيروت">بيروت</option>
            <option value="الضاحية">الضاحية</option>
            <option value="جبل لبنان">جبل لبنان</option>
            <!-- Add more cities as needed -->
        </select>
        <select id="foodTypeSelect" onchange="filterByFoodType()">
            <option value="">اختر نوع الغذاء...</option>
            <option value="لحوم">لحوم</option>
            <option value="أسماك">أسماك</option>
            <option value="فواكه">فواكه</option>
            <option value="خضروات">خضروات</option>
            <!-- Add more food types as needed -->
        </select>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered table-dark">
          <thead>
            <tr>
              <th scope="col">الاسم</th>
              <th scope="col">البريد</th>
              <th scope="col">المنطقة</th>
              <th scope="col">الهاتف</th>
              <th scope="col">نوع الغذاء</th>
            </tr>
          </thead>
      
          <tbody id="tableBody">
            <% customers2.forEach(element => { %>
              <tr class="align-middle">
                <td><%= element.aklName %></td>
                <td><%= element.aklEmail %></td>
                <td><%= element.aklCity %></td>
                <td><%= element.aklPhone %></td>
                <td><%= element.foodType %></td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    <a href="/homeDaa"><button class="kabse">العودة الى الصفحة الرئسية</button></a>

    <script>
        function filterByCity() {
            var selectedCity = document.getElementById("citySelect").value;
            var rows = document.getElementById("tableBody").getElementsByTagName("tr");

            for (var i = 0; i < rows.length; i++) {
                var city = rows[i].getElementsByTagName("td")[2].innerText;

                if (selectedCity === "" || city === selectedCity) {
                    rows[i].style.display = "";
                } else {
                    rows[i].style.display = "none";
                }
            }
        }

        function filterByFoodType() {
            var selectedFoodType = document.getElementById("foodTypeSelect").value;
            var rows = document.getElementById("tableBody").getElementsByTagName("tr");

            for (var i = 0; i < rows.length; i++) {
                var foodType = rows[i].getElementsByTagName("td")[4].innerText;

                if (selectedFoodType === "" || foodType === selectedFoodType) {
                    rows[i].style.display = "";
                } else {
                    rows[i].style.display = "none";
                }
            }
        }
    </script>
</body>
</html>
